<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Konsequenz Workflow</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="styles.css" />

</head>

<body class="bg-gray-900 text-gray-100">

  <!-- =======================
       TOP BAR + HAMBURGER
  ======================== -->
  <header class="fixed top-0 left-0 w-full h-14 bg-gray-800 shadow-lg flex items-center px-4 z-40">
    <button id="menu-toggle" class="text-gray-200 hover:text-white">
      <i data-lucide="menu" class="w-6 h-6"></i>
    </button>
    <h1 class="ml-4 text-xl font-bold">Konsequenz Workflow</h1>
  </header>


  <!-- =======================
       SIDEBAR MOBILE / DARK
  ======================== -->
  <aside id="sidebar"
         class="fixed top-0 left-0 h-full w-64 bg-gray-850 shadow-xl transform -translate-x-full
                transition-transform duration-300 z-50">

    <!-- Header Sidebar -->
    <div class="h-14 flex items-center px-4 border-b border-gray-700">
      <h2 class="text-lg font-semibold text-green-400">Menu</h2>
    </div>

    <!-- User Box -->
    <div class="p-4 border-b border-gray-700">
      <p class="text-sm text-gray-400">Utente:</p>
      <p id="user-name-sidebar" class="text-lg font-semibold text-white">Ospite</p>

      <p class="text-sm mt-1 text-gray-400">Ruolo:</p>
      <p id="user-role-sidebar" class="text-md font-semibold text-indigo-400">N/A</p>
    </div>

    <!-- Menu -->
    <nav id="sidebar-menu" class="p-4 space-y-3">
      <button class="sidebar-item" data-section="dashboard-admin">Dashboard Admin</button>
      <button class="sidebar-item" data-section="dashboard-worker">Dashboard Lavoratore</button>
      <button class="sidebar-item" data-section="settings">Impostazioni</button>

      <button onclick="logoutUser()"
              class="w-full mt-6 py-2 bg-red-600 hover:bg-red-700 rounded-md font-semibold">
        Logout
      </button>
    </nav>

  </aside>

  <!-- Overlay click-to-close -->
  <div id="sidebar-overlay"
       class="fixed inset-0 bg-black bg-opacity-40 hidden z-40"></div>


  <!-- =======================
        MAIN CONTENT AREA
  ======================== -->
  <main id="main-content"
        class="pt-16 p-4 transition-all duration-300">

    <!-- PLACEHOLDER: qui JS inserirÃ  le dashboard -->
    <div id="dynamic-content" class="mt-4"></div>

  </main>

  <!-- JS -->
  <script src="app.js" defer></script>

  <script>
    // Init icons
    lucide.createIcons();

    // Sidebar toggle
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("sidebar-overlay");

    document.getElementById("menu-toggle").addEventListener("click", () => {
      sidebar.classList.remove("-translate-x-full");
      overlay.classList.remove("hidden");
    });

    overlay.addEventListener("click", () => {
      sidebar.classList.add("-translate-x-full");
      overlay.classList.add("hidden");
    });
  </script>

</body>
</html>
